{
  "$schema": "https://openclawai.com/schemas/config.json",
  "name": "Aurelm GM Assistant",
  "version": "0.2.0",

  "models": {
    "primary": {
      "provider": "anthropic",
      "model": "claude-sonnet-4-5-20250929",
      "apiKeyEnv": "ANTHROPIC_API_KEY",
      "proxy": "http://127.0.0.1:7897"
    },
    "fallback": {
      "provider": "ollama",
      "model": "llama3.1:8b",
      "baseUrl": "http://localhost:11434"
    }
  },

  "routing": {
    "strategy": "tool-based",
    "rules": [
      {
        "condition": "tool == 'listCivs'",
        "model": "fallback",
        "reason": "Simple data retrieval, no reasoning needed"
      },
      {
        "condition": "tool == 'getCivState' AND no_followup",
        "model": "fallback",
        "reason": "Single civ snapshot, straightforward presentation"
      },
      {
        "condition": "tool == 'timeline' AND no_followup",
        "model": "fallback",
        "reason": "Chronological listing, no synthesis needed"
      },
      {
        "condition": "tool == 'sanityCheck'",
        "model": "primary",
        "reason": "Consistency reasoning requires strong inference"
      },
      {
        "condition": "tool == 'compareCivs'",
        "model": "primary",
        "reason": "Cross-civ analysis requires synthesis"
      },
      {
        "condition": "tool_count >= 2",
        "model": "primary",
        "reason": "Multi-tool chains require reasoning to combine results"
      },
      {
        "condition": "default",
        "model": "primary",
        "reason": "Default to Claude for safety"
      }
    ]
  },

  "context": {
    "soul": "./SOUL.md",
    "preload": [
      "./skills/aurelm-gm/domain-knowledge.md"
    ]
  },

  "mcpServers": {
    "aurelm": {
      "command": "node",
      "args": ["C:/Users/alexi/Documents/projects/Aurelm/mcp-server/dist/index.js"],
      "env": {
        "AURELM_DB_PATH": "C:/Users/alexi/Documents/projects/Aurelm/aurelm.db"
      }
    }
  },

  "skills": [
    {
      "name": "aurelm-gm",
      "path": "./skills/aurelm-gm/SKILL.md"
    }
  ],

  "discord": {
    "botTokenEnv": "DISCORD_BOT_TOKEN",
    "channels": {
      "CHANNEL_ID_CONFLUENCE": {
        "civName": "Civilisation de la Confluence",
        "player": "Rubanc",
        "description": "River valley civ, living clay tech, five-caste oligarchy"
      },
      "CHANNEL_ID_CDS": {
        "civName": "Cheveux de Sang",
        "player": "TBD",
        "description": "Foreign sea-faring civilization"
      },
      "CHANNEL_ID_NANZA": {
        "civName": "Nanzagouets",
        "player": "TBD",
        "description": "Foreign civilization (Tlazhuaneca)"
      },
      "CHANNEL_ID_GLOBAL": {
        "civName": null,
        "player": null,
        "description": "Global announcements and cross-civ events"
      }
    }
  }
}
